<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><!-- Favicons based on https://evilmartians.com/chronicles/how-to-favicon-in-2021-six-files-that-fit-most-needs --><link rel="icon" href="/favicon.ico" sizes="32x32"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="manifest" href="/manifest.webmanifest"><!-- Primary Meta Tags --><title>How to Adapt Astro to TypeScript | Borja LoFe</title><meta name="title" content="How to Adapt Astro to TypeScript | Borja LoFe"><meta name="description" content="In this post, we'll adapt our Astro-based blog to TypeScript"><!-- Canonical URL --><link rel="canonical" href="https://borjalofe/blog/how-to-adapt-astro-to-typescript/"><link rel="alternate" hreflang="es" href="https://borjalofe/es/blog/como-adaptar-astro-a-typescript"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://borjalofe/blog/how-to-adapt-astro-to-typescript/"><meta property="og:title" content="How to Adapt Astro to TypeScript | Borja LoFe"><meta property="og:description" content="In this post, we'll adapt our Astro-based blog to TypeScript"><meta property="og:image" content="https://borjalofe/blog-placeholder-3.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://borjalofe/blog/how-to-adapt-astro-to-typescript/"><meta property="twitter:title" content="How to Adapt Astro to TypeScript | Borja LoFe"><meta property="twitter:description" content="In this post, we'll adapt our Astro-based blog to TypeScript"><meta property="twitter:image" content="https://borjalofe/blog-placeholder-3.jpg"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><style>:root{--accent: #2337ff;--accent-dark: #000d8a;--black: 15, 18, 25;--gray: 96, 115, 159;--gray-light: 229, 233, 240;--gray-dark: 34, 41, 57;--gray-gradient: rgba(var(--gray-light), 50%), #fff;--box-shadow: 0 2px 6px rgba(var(--gray), 25%), 0 8px 24px rgba(var(--gray), 33%), 0 16px 32px rgba(var(--gray), 33%)}@font-face{font-family:Atkinson;src:url(/fonts/atkinson-regular.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Atkinson;src:url(/fonts/atkinson-bold.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}body{font-family:Atkinson,sans-serif;margin:0;padding:0;text-align:left;background:linear-gradient(var(--gray-gradient)) no-repeat;background-size:100% 600px;word-wrap:break-word;overflow-wrap:break-word;color:rgb(var(--gray-dark));font-size:20px;line-height:1.7}main{width:960px;max-width:calc(100% - 2em);margin:auto;padding:3em 1em}h1,h2,h3,h4,h5,h6{margin:0 0 .5rem;color:rgb(var(--black));line-height:1.2}h1{font-size:3.052em}h2{font-size:2.441em}h3{font-size:1.953em}h4{font-size:1.563em}h5{font-size:1.25em}strong,b{font-weight:700}a,a:hover{color:var(--accent)}p{margin-bottom:1em}.prose p{margin-bottom:2em}textarea{width:100%;font-size:16px}input{font-size:16px}table{width:100%}img{max-width:100%;height:auto;border-radius:8px}code{padding:2px 5px;background-color:rgb(var(--gray-light));border-radius:2px}pre{padding:1.5em;border-radius:8px}pre>code{all:unset}blockquote{border-left:4px solid var(--accent);padding:0 0 0 20px;margin:0;font-size:1.333em}hr{border:none;border-top:1px solid rgb(var(--gray-light))}@media (max-width: 720px){body{font-size:18px}main{padding:1em}}.sr-only{border:0;padding:0;margin:0;position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);clip-path:inset(50%);white-space:nowrap}a[data-astro-cid-eimmu3lg]{display:inline-block;text-decoration:none}a[data-astro-cid-eimmu3lg].active{font-weight:bolder;text-decoration:underline}header[data-astro-cid-3ef6ksr2]{margin:0;padding:0 1em;background:#fff;box-shadow:0 2px 8px rgba(var(--black),5%)}h2[data-astro-cid-3ef6ksr2]{margin:0;font-size:1em}h2[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2],h2[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2].active{text-decoration:none}nav[data-astro-cid-3ef6ksr2]{display:flex;align-items:center;justify-content:space-between}nav[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2]{padding:1em .5em;color:var(--black);border-bottom:4px solid transparent;text-decoration:none}nav[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2].active{text-decoration:none;border-bottom-color:var(--accent)}.social-links[data-astro-cid-3ef6ksr2],.social-links[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2]{display:flex}@media (max-width: 720px){.social-links[data-astro-cid-3ef6ksr2]{display:none}}footer[data-astro-cid-sz7xmlte]{padding:2em 1em 6em;background:linear-gradient(var(--gray-gradient)) no-repeat;color:rgb(var(--gray));text-align:center}.social-links[data-astro-cid-sz7xmlte]{display:flex;justify-content:center;gap:1em;margin-top:1em}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]{text-decoration:none;color:rgb(var(--gray))}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]:hover{color:rgb(var(--gray-dark))}.skip-link-wrapper[data-astro-cid-hoe5mouk]{display:flex;justify-content:center;position:absolute;top:-100vh;left:auto;right:auto;width:100%;opacity:0;pointer-events:none;transform:translateY(0);transition:top var(--duration-link) linear var(--duration-link),opacity var(--duration-link) ease-in,transform var(--duration-link) ease-in}.skip-link-wrapper[data-astro-cid-hoe5mouk]:focus-within{top:0;opacity:1;transform:translateY(var(--space-m));transition:opacity var(--duration-link-hover) ease-out,transform var(--duration-link-hover) ease-out}.skip-link[data-astro-cid-hoe5mouk]{padding:var(--space-xs);background-color:var(--bg-light);pointer-events:all}
.menu-container[data-astro-cid-7xjzxsz4]{position:relative;display:inline-block}.menu-checkbox[data-astro-cid-7xjzxsz4]{display:none}.menu-label[data-astro-cid-7xjzxsz4]{cursor:pointer;padding:10px 20px;border:none;border-radius:4px;display:inline-block}.menu-content[data-astro-cid-7xjzxsz4]{display:none;position:absolute;background-color:#f9f9f9;min-width:70px;box-shadow:0 8px 16px #0003;z-index:1;margin-top:5px;border-radius:4px}.menu-content[data-astro-cid-7xjzxsz4] a[data-astro-cid-7xjzxsz4]{color:#000;padding:12px 16px;text-decoration:none;display:block}.menu-content[data-astro-cid-7xjzxsz4] a[data-astro-cid-7xjzxsz4]:hover{background-color:#f1f1f1}.menu-checkbox[data-astro-cid-7xjzxsz4]:checked+.menu-label[data-astro-cid-7xjzxsz4]+.menu-content[data-astro-cid-7xjzxsz4]{display:block}.caret-icon[data-astro-cid-7xjzxsz4]{transition:transform .3s ease}.menu-checkbox[data-astro-cid-7xjzxsz4]:checked+.menu-label[data-astro-cid-7xjzxsz4] .caret-icon[data-astro-cid-7xjzxsz4]{transform:rotate(-180deg)}
ul[data-astro-cid-wfyxae4o]{display:flex;flex-wrap:wrap;gap:2rem;list-style-type:none;margin:0;padding:0}ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o]{width:calc(50% - 1rem)}ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o] [data-astro-cid-wfyxae4o]{text-decoration:none;transition:.2s ease}ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o]:first-child{width:100%;margin-bottom:1rem;text-align:center}ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o]:first-child img[data-astro-cid-wfyxae4o]{width:100%}ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o]:first-child .title[data-astro-cid-wfyxae4o]{font-size:2.369rem}ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o] img[data-astro-cid-wfyxae4o]{margin-bottom:.5rem;border-radius:12px}ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o] a[data-astro-cid-wfyxae4o]{display:block}.title[data-astro-cid-wfyxae4o]{margin:0;color:rgb(var(--black));line-height:1}.date[data-astro-cid-wfyxae4o]{margin:0;color:rgb(var(--gray))}ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o] a[data-astro-cid-wfyxae4o]:hover h4[data-astro-cid-wfyxae4o],ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o] a[data-astro-cid-wfyxae4o]:hover .date[data-astro-cid-wfyxae4o]{color:rgb(var(--accent))}ul[data-astro-cid-wfyxae4o] a[data-astro-cid-wfyxae4o]:hover img[data-astro-cid-wfyxae4o]{box-shadow:var(--box-shadow)}@media (max-width: 720px){ul[data-astro-cid-wfyxae4o]{gap:.5em}ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o]{width:100%;text-align:center}ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o]:first-child{margin-bottom:0}ul[data-astro-cid-wfyxae4o] li[data-astro-cid-wfyxae4o]:first-child .title[data-astro-cid-wfyxae4o]{font-size:1.563em}}
</style><script type="module">(function(){const t=document.querySelector("#main>article")?.getAttribute("data-locales")?.split(","),o=document.querySelector("#main>article")?.getAttribute("data-selected-locale");if(t&&t?.length>0){let l=[];for(const e of t)l=[...l,...Array.from(document.querySelectorAll(`#main [lang="${e}"]`))];for(const e of l)e.getAttribute("lang")!==o?e.remove():(e.tagName.toLowerCase()==="h1"&&(document.title=e.innerHTML),e.style.display="block")}})();
</script></head><body> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2><a href="/" data-astro-cid-3ef6ksr2>Borja LoFe</a></h2> <div class="internal-links" data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Home </a> <a href="/blog" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Blog </a>  </div>  <div class="menu-container" data-astro-cid-7xjzxsz4>  <input type="checkbox" id="menu-toggle" class="menu-checkbox" data-astro-cid-7xjzxsz4> <label for="menu-toggle" class="menu-label" data-astro-cid-7xjzxsz4> EN <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="caret-icon" data-astro-cid-7xjzxsz4> <polyline points="6 9 12 15 18 9" data-astro-cid-7xjzxsz4></polyline> </svg> </label> <div class="menu-content" data-astro-cid-7xjzxsz4> <a href="/es/blog/como-adaptar-astro-a-typescript" data-astro-cid-7xjzxsz4>ES</a> </div>  </div>   <div class="social-links" data-astro-cid-3ef6ksr2> <a href="https://twitter.com/borjalofe" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>Sígueme en Twitter</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-3ef6ksr2><path fill="currentColor" d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-astro-cid-3ef6ksr2></path></svg> </a> <a href="https://github.com/borjalofe" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>Mi repo en GitHub</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-3ef6ksr2><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-3ef6ksr2></path></svg> </a> </div> </nav> </header>  <div class="skip-link-wrapper" data-astro-cid-hoe5mouk> <a href="#main" class="skip-link" tabindex="-1" data-astro-cid-hoe5mouk>Skip to content</a> </div>   <main id="main">  <article><div class="hero-image"><img src="/blog-placeholder-3.jpg" alt="" loading="eager" width="720" height="360" decoding="async"></div><div class="prose"><div class="title"><div class="date"><time datetime="2024-09-16T09:00:00.000Z"> Sep 16, 2024 </time></div><h1>How to Adapt Astro to TypeScript</h1><hr></div> <p>Astro uses TypeScript by default, so to create a blog (or any other type of website) with Astro, you can follow the steps I explained in “<a href="/blog/how-to-create-a-blog-with-astro">How to Create a Blog with Astro</a>” while keeping in mind the changes I’ll mention below:</p>
<h2 id="step-1-create-the-project-with-astro">Step 1: Create the Project with Astro</h2>
<p>Create a new Astro project using yarn:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">yarn</span><span style="color:#F1FA8C"> create</span><span style="color:#F1FA8C"> astro</span></span>
<span class="line"></span></code></pre>
<p>During the configuration process, answer the following questions (pay attention to the change in the TypeScript question):</p>
<p><img src="/how-to-adapt-astro-to-typescript/yarn-create-astro-options.png" alt="Recommended options to configure the Astro and TypeScript project with yarn"></p>
<ol>
<li>Where do you want to create your new project?
<ul>
<li><code>./astro-blog-template</code> (or whatever you want to name your project)</li>
</ul>
</li>
<li>How would you like to start your new project?
<ul>
<li><code>Use the blog template</code></li>
</ul>
</li>
<li>Do you plan to write in TypeScript?
<ul>
<li><code>Yes</code></li>
</ul>
</li>
<li>How strict should TypeScript be?
<ul>
<li><code>Strict (Recommended)</code></li>
</ul>
</li>
<li>Install dependencies?
<ul>
<li><code>Yes</code></li>
</ul>
</li>
<li>Initialize a new git repository?
<ul>
<li><code>Yes</code></li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>Note 1</strong>:</p>
<p>I named the project <code>astro-blog-template</code> because I wrote this article while creating the template. Replace that name with whatever suits you best.</p>
<p>Also, at the end of the article, I’ll explain how to use the template and get all this (and some extras I explain in other articles) right out of the box.</p>
</blockquote>
<blockquote>
<p><strong>Note 2</strong>:</p>
<p>You can answer differently (of course), but I recommend using the same options as I did.</p>
</blockquote>
<h2 id="step-2-set-up-the-repository">Step 2: Set Up the Repository</h2>
<p>Just like in the article “<a href="/blog/how-to-create-a-blog-with-astro#step-2-set-up-the-repository">How to Create a Blog with Astro - Step 2: Set Up the Repository</a>”.</p>
<h2 id="step-3-make-sure-everything-works">Step 3: Make Sure Everything Works</h2>
<p>You can do this by opening a terminal in the project folder and running:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">yarn</span><span style="color:#F1FA8C"> dev</span></span>
<span class="line"></span></code></pre>
<p>and accessing <a href="http://localhost:4321/">http://localhost:4321/</a>.</p>
<blockquote>
<p><strong>Note</strong>:</p>
<p>Check the website after each step you complete from now on to make sure everything remains the same (i.e., that you haven’t broken the website).</p>
<p><code>yarn dev</code> automatically watches for changes and updates the website with them.</p>
</blockquote>
<h2 id="step-4-improve-the-project-configuration">Step 4: Improve the Project Configuration</h2>
<p>Just like in the article “<a href="/blog/how-to-create-a-blog-with-astro#step-4-improve-the-project-configuration">How to Create a Blog with Astro - Step 4: Improve the Project Configuration</a>” <strong>but</strong> keep in mind that the configuration in <code>tsconfig.json</code> extends <code>astro/tsconfigs/strict</code> instead of <code>astro/tsconfigs/base</code>, so your configuration file (after the changes) should look like this:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#8BE9FE">	"</span><span style="color:#8BE9FD">extends</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">astro/tsconfigs/strict</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">	"</span><span style="color:#8BE9FD">compilerOptions</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FE">		"</span><span style="color:#8BE9FD">baseUrl</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">src/</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">		"</span><span style="color:#8BE9FD">paths</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FE">		"</span><span style="color:#8BE9FD">@/*</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">./*</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">],</span></span>
<span class="line"><span style="color:#8BE9FE">			"</span><span style="color:#8BE9FD">@components/*</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">components/*</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">],</span></span>
<span class="line"><span style="color:#8BE9FE">			"</span><span style="color:#8BE9FD">@layouts/*</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">layouts/*</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">],</span></span>
<span class="line"><span style="color:#8BE9FE">			"</span><span style="color:#8BE9FD">@styles/*</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">styles/*</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#F8F8F2">		},</span></span>
<span class="line"><span style="color:#8BE9FE">		"</span><span style="color:#8BE9FD">strictNullChecks</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> true</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span></code></pre>
<h2 id="step-5-apply-your-data-to-the-project">Step 5: Apply Your Data to the Project</h2>
<p>Just like in the article “<a href="/blog/how-to-create-a-blog-with-astro#step-5-apply-your-data-to-the-project">How to Create a Blog with Astro - Step 5: Customize the Project Structure</a>”.</p>
<h2 id="step-6-fix-typescript-errors">Step 6: Fix TypeScript Errors</h2>
<p>For many, it’s a headache. For me, it’s a small inconvenience that saves me from problems and tests later on.</p>
<h3 id="create-srctypescollectionsdts">Create <code>src/types/collections.d.ts</code></h3>
<p>I’m not a big fan of making complete changes, but in this case, we’re going to use the types in several places, so we’re preparing for the future.</p>
<p>Let’s get to it:</p>
<ol>
<li>Create the file <code>src/types/collections.d.ts</code> (which implies creating the folder <code>src/types/</code>).</li>
<li>Write the following in the file <code>src/types/collections.d.ts</code>:
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { </span><span style="color:#FF79C6">type</span><span style="color:#F8F8F2"> CollectionEntry } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">astro:content</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> type</span><span style="color:#8BE9FD;font-style:italic"> Collection</span><span style="color:#FF79C6"> =</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">blog</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> type</span><span style="color:#8BE9FD;font-style:italic"> Post</span><span style="color:#FF79C6"> =</span><span style="color:#8BE9FD;font-style:italic"> CollectionEntry</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#E9F284">'</span><span style="color:#F1FA8C">blog</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">>;</span></span>
<span class="line"></span></code></pre>
</li>
</ol>
<blockquote>
<p><strong>Note</strong>:</p>
<p>By convention, TypeScript files that contain (only) type definitions have the <code>d</code> (definition) suffix, which is why the file you just created is called <code>collections.d.ts</code> to indicate that it contains the collection type definitions (from Astro’s content collections).</p>
</blockquote>
<h3 id="why-dont-we-modify-tsconfigjson">Why Don’t We Modify <code>tsconfig.json</code>?</h3>
<p>Do you remember the paths we created in <a href="#step-4-improve-the-project-configuration">Step 4</a>? You might be tempted to add a new one for <code>@types</code>.</p>
<p>You’ll likely change your <code>tsconfig.ts</code> file to look like this:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#8BE9FE">    "</span><span style="color:#8BE9FD">extends</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">astro/tsconfigs/strict</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">    "</span><span style="color:#8BE9FD">compilerOptions</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FE">        "</span><span style="color:#8BE9FD">baseUrl</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">src/</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FE">        "</span><span style="color:#8BE9FD">paths</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FE">            "</span><span style="color:#8BE9FD">@/*</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">./*</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">],</span></span>
<span class="line"><span style="color:#8BE9FE">            "</span><span style="color:#8BE9FD">@components/*</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">components/*</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">],</span></span>
<span class="line"><span style="color:#8BE9FE">            "</span><span style="color:#8BE9FD">@layouts/*</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">layouts/*</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">],</span></span>
<span class="line"><span style="color:#8BE9FE">            "</span><span style="color:#8BE9FD">@styles/*</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">styles/*</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">],</span></span>
<span class="line"><span style="color:#8BE9FE">            "</span><span style="color:#8BE9FD">@types/*</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">types/*</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#F8F8F2">        },</span></span>
<span class="line"><span style="color:#8BE9FE">        "</span><span style="color:#8BE9FD">strictNullChecks</span><span style="color:#8BE9FE">"</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> true</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span></code></pre>
<p>And you’ll likely see the import error.</p>
<h4 id="what-happened">What Happened?</h4>
<p><code>@types</code> is a type package prefix.</p>
<p>For example, if you’re going to use ReactJS with TypeScript, you’ll install <code>@types/react</code> as a dependency.</p>
<p>That’s why if you create the path in <code>tsconfig.ts</code>, the project can’t decide whether it’s an external package (in <code>node_modules</code>) or an internal project definition.</p>
<h4 id="how-do-we-solve-it">How Do We Solve It?</h4>
<p>You don’t need to do anything.</p>
<p>If you look at your configuration, you’ll see that you created the following line:</p>
<p><code>"@/*": ["./*"]</code></p>
<p>With that, you’re making <code>@/</code> point to <code>src/</code>, so you can import types (internally) with <code>@/types/</code>.</p>
<h3 id="modify-srcpagesblogslugastro">Modify <code>src/pages/blog/[...slug].astro</code></h3>
<p>Initially, the file looks like this:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#FF79C6">---</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { </span><span style="color:#FF79C6">type</span><span style="color:#F8F8F2"> CollectionEntry, getCollection } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">astro:content</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> BlogPost </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@layouts/BlogPost.astro</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> async</span><span style="color:#FF79C6"> function</span><span style="color:#50FA7B"> getStaticPaths</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> posts </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> await</span><span style="color:#50FA7B"> getCollection</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">'</span><span style="color:#F1FA8C">blog</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#FF79C6">    return</span><span style="color:#F8F8F2"> posts.</span><span style="color:#50FA7B">map</span><span style="color:#F8F8F2">((</span><span style="color:#FFB86C;font-style:italic">post</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> ({</span></span>
<span class="line"><span style="color:#F8F8F2">        params</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> { slug</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> post.slug },</span></span>
<span class="line"><span style="color:#F8F8F2">        props</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> post,</span></span>
<span class="line"><span style="color:#F8F8F2">    }));</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"><span style="color:#FF79C6">type</span><span style="color:#8BE9FD;font-style:italic"> Props</span><span style="color:#FF79C6"> =</span><span style="color:#8BE9FD;font-style:italic"> CollectionEntry</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#E9F284">'</span><span style="color:#F1FA8C">blog</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">>;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> post </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Astro.props;</span></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> { Content } </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> await</span><span style="color:#F8F8F2"> post.</span><span style="color:#50FA7B">render</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#FF79C6">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">&#x3C;</span><span style="color:#F8F8F2">BlogPost {</span><span style="color:#FF79C6">...</span><span style="color:#F8F8F2">post.data}</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">    &#x3C;</span><span style="color:#F8F8F2">Content </span><span style="color:#FF79C6">/></span></span>
<span class="line"><span style="color:#FF79C6">&#x3C;/</span><span style="color:#F8F8F2">BlogPost</span><span style="color:#FF79C6">></span></span>
<span class="line"></span></code></pre>
<p>And you’ll see that, on line 6, <code>post</code> is marked with the error:</p>
<p><code>Parameter 'post' implicitly has an 'any' type.ts(7006)</code>.</p>
<p>And that’s because TypeScript strict (which we configured for our project) “is not a fan” of the <code>any</code> type as it allows any type and is therefore susceptible to errors.</p>
<p>Fortunately, <a href="#create-srctypescollectionsdts">we’ve already created the necessary types</a> in the file <code>src/types/collections.d.ts</code>.</p>
<p>All that’s left is to import the types and replace them where necessary.</p>
<p>After the changes, the file should look like this:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#FF79C6">---</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { getCollection } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">astro:content</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> BlogPost </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@layouts/BlogPost.astro</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#FF79C6"> type</span><span style="color:#F8F8F2"> { Collection, Post } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@/types/collections.d</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> async</span><span style="color:#FF79C6"> function</span><span style="color:#50FA7B"> getStaticPaths</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#FF79C6">    const</span><span style="color:#F8F8F2"> collection</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> Collection</span><span style="color:#FF79C6"> =</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">blog</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">    const</span><span style="color:#F8F8F2"> posts</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> Post</span><span style="color:#F8F8F2">[] </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> await</span><span style="color:#50FA7B"> getCollection</span><span style="color:#F8F8F2">(collection);</span></span>
<span class="line"><span style="color:#FF79C6">        return</span><span style="color:#F8F8F2"> posts.</span><span style="color:#50FA7B">map</span><span style="color:#F8F8F2">((</span><span style="color:#FFB86C;font-style:italic">post</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> ({</span></span>
<span class="line"><span style="color:#F8F8F2">            params</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> { slug</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> post.slug },</span></span>
<span class="line"><span style="color:#F8F8F2">            props</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> post,</span></span>
<span class="line"><span style="color:#F8F8F2">        }));</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">type</span><span style="color:#8BE9FD;font-style:italic"> Props</span><span style="color:#FF79C6"> =</span><span style="color:#8BE9FD;font-style:italic"> Post</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> post </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Astro.props;</span></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> { Content } </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> await</span><span style="color:#F8F8F2"> post.</span><span style="color:#50FA7B">render</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#FF79C6">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">&#x3C;</span><span style="color:#F8F8F2">BlogPost {</span><span style="color:#FF79C6">...</span><span style="color:#F8F8F2">post.data}</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">    &#x3C;</span><span style="color:#F8F8F2">Content </span><span style="color:#FF79C6">/></span></span>
<span class="line"><span style="color:#FF79C6">&#x3C;/</span><span style="color:#F8F8F2">BlogPost</span><span style="color:#FF79C6">></span></span>
<span class="line"></span></code></pre>
<p>With this, the errors in this file will disappear.</p>
<blockquote>
<p><strong>Note</strong>:</p>
<p>In some JavaScript-based frameworks (like Astro or NextJS), we encounter folder or file names in brackets.</p>
<p>The closest example right now is this very file: <code>src/pages/blog/[...slug].astro</code>.</p>
<p>This means that when processing a URL like <code>blog/rest-of/the-url</code>, Astro will take everything that comes after the part it knows (in this case <code>/blog</code>) and store it in a parameter called <code>slug</code> to access that data from the file itself.</p>
<p>You can discover more details and gain a better understanding in the <a href="https://nextjs.org/docs/getting-started/project-structure#dynamic-routes">official Astro documentation</a>.</p>
</blockquote>
<h3 id="modify-srcpagesblogindexastro">Modify <code>src/pages/blog/index.astro</code></h3>
<p>In the file <code>src/pages/blog/index.astro</code>, which will serve as the blog’s main page (or blog archive page), we encounter a couple of TypeScript errors.</p>
<p>Below, I’ve included how the file currently looks (for convenience, I’ve removed the CSS lines), where you should see errors marked on lines 10 and 94:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#FF79C6">---</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> BaseHead </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@components/BaseHead.astro</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> Header </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@components/Header.astro</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> Footer </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@components/Footer.astro</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { SITE_TITLE, SITE_DESCRIPTION } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@/consts</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { getCollection } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">astro:content</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> FormattedDate </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@components/FormattedDate.astro</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> posts </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">await</span><span style="color:#50FA7B"> getCollection</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">'</span><span style="color:#F1FA8C">blog</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">)).</span><span style="color:#50FA7B">sort</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">    (</span><span style="color:#FFB86C;font-style:italic">a</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">b</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> b.data.pubDate.</span><span style="color:#50FA7B">valueOf</span><span style="color:#F8F8F2">() </span><span style="color:#FF79C6">-</span><span style="color:#F8F8F2"> a.data.pubDate.</span><span style="color:#50FA7B">valueOf</span><span style="color:#F8F8F2">(),</span></span>
<span class="line"><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#FF79C6">---</span></span>
<span class="line"><span style="color:#FF79C6">&#x3C;!</span><span style="color:#F8F8F2">doctype html</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">&#x3C;</span><span style="color:#F8F8F2">html lang</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">en</span><span style="color:#E9F284">"</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;</span><span style="color:#8BE9FD;font-style:italic">head</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">        &#x3C;</span><span style="color:#F8F8F2">BaseHead title</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{SITE_TITLE} description</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{SITE_DESCRIPTION} </span><span style="color:#FF79C6">/></span></span>
<span class="line"><span style="color:#F8F8F2">        &#x3C;</span><span style="color:#8BE9FD;font-style:italic">style</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#6272A4">        // lines 19 to 85</span></span>
<span class="line"><span style="color:#FF79C6">        &#x3C;/</span><span style="color:#F8F8F2">style</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">    &#x3C;/</span><span style="color:#F8F8F2">head</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;</span><span style="color:#8BE9FD;font-style:italic">body</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">        &#x3C;</span><span style="color:#F8F8F2">Header </span><span style="color:#FF79C6">/></span></span>
<span class="line"><span style="color:#F8F8F2">        &#x3C;</span><span style="color:#8BE9FD;font-style:italic">main</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">            &#x3C;</span><span style="color:#8BE9FD;font-style:italic">section</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">                &#x3C;</span><span style="color:#8BE9FD;font-style:italic">ul</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">                    {</span></span>
<span class="line"><span style="color:#F8F8F2">                        posts.</span><span style="color:#50FA7B">map</span><span style="color:#F8F8F2">((</span><span style="color:#FFB86C;font-style:italic">post</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> (</span></span>
<span class="line"><span style="color:#F8F8F2">                            &#x3C;</span><span style="color:#8BE9FD;font-style:italic">li</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">                                &#x3C;</span><span style="color:#F8F8F2">a href</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{</span><span style="color:#F1FA8C">`/blog/</span><span style="color:#FF79C6">${</span><span style="color:#F8F8F2">post.slug</span><span style="color:#FF79C6">}</span><span style="color:#F1FA8C">/`</span><span style="color:#F8F8F2">}</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">                                    &#x3C;</span><span style="color:#F8F8F2">img width</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{</span><span style="color:#BD93F9">720</span><span style="color:#F8F8F2">} height</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{</span><span style="color:#BD93F9">360</span><span style="color:#F8F8F2">} src</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{post.data.heroImage} alt</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">""</span><span style="color:#FF79C6"> /></span></span>
<span class="line"><span style="color:#FF79C6">									&#x3C;</span><span style="color:#F8F8F2">h4 class</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">title</span><span style="color:#E9F284">"</span><span style="color:#FF79C6">></span><span style="color:#F8F8F2">{post.data.title}</span><span style="color:#FF79C6">&#x3C;/</span><span style="color:#F8F8F2">h4</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">									&#x3C;</span><span style="color:#F8F8F2">p class</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">date</span><span style="color:#E9F284">"</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">									    &#x3C;</span><span style="color:#F8F8F2">FormattedDate date</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{post.data.pubDate} </span><span style="color:#FF79C6">/></span></span>
<span class="line"><span style="color:#FF79C6">									&#x3C;/</span><span style="color:#F8F8F2">p</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">								&#x3C;/</span><span style="color:#F8F8F2">a</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">							&#x3C;/</span><span style="color:#F8F8F2">li</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#F8F8F2">						))</span></span>
<span class="line"><span style="color:#F8F8F2">					}</span></span>
<span class="line"><span style="color:#FF79C6">				&#x3C;/</span><span style="color:#F8F8F2">ul</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">			&#x3C;/</span><span style="color:#F8F8F2">section</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">		&#x3C;/</span><span style="color:#F8F8F2">main</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">		&#x3C;</span><span style="color:#F8F8F2">Footer </span><span style="color:#FF79C6">/></span></span>
<span class="line"><span style="color:#FF79C6">    &#x3C;/</span><span style="color:#F8F8F2">body</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">&#x3C;/</span><span style="color:#F8F8F2">html</span><span style="color:#FF79C6">></span></span>
<span class="line"></span></code></pre>
<p>I say errors… but it’s actually the same error: <code>Parameter '...' implicitly has an 'any' type.ts(7006)</code>.</p>
<p>As with the previous case (the file <code>src/pages/blog/[...slug].astro</code>), we have the solution prepared with <a href="#create-srctypescollectionsdts">the types we defined</a> in the file <code>src/types/collections.d.ts</code>.</p>
<p>After the changes, the file should look like this:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#FF79C6">---</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> BaseHead </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@components/BaseHead.astro</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> Header </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@components/Header.astro</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> Footer </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@components/Footer.astro</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { SITE_TITLE, SITE_DESCRIPTION } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@/consts</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { getCollection } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">astro:content</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> FormattedDate </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@components/FormattedDate.astro</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#FF79C6"> type</span><span style="color:#F8F8F2"> { Collection, Post } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">@/types/collections.d</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;  </span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> collection</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> Collection</span><span style="color:#FF79C6"> =</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">blog</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> posts</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> Post</span><span style="color:#F8F8F2">[] </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">await</span><span style="color:#50FA7B"> getCollection</span><span style="color:#F8F8F2">(collection)).</span><span style="color:#50FA7B">sort</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">    (</span><span style="color:#FFB86C;font-style:italic">a</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> Post</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">b</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> Post</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> b.data.pubDate.</span><span style="color:#50FA7B">valueOf</span><span style="color:#F8F8F2">() </span><span style="color:#FF79C6">-</span><span style="color:#F8F8F2"> a.data.pubDate.</span><span style="color:#50FA7B">valueOf</span><span style="color:#F8F8F2">(),</span></span>
<span class="line"><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#FF79C6">---</span></span>
<span class="line"><span style="color:#FF79C6">&#x3C;!</span><span style="color:#F8F8F2">doctype html</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">&#x3C;</span><span style="color:#F8F8F2">html lang</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">en</span><span style="color:#E9F284">"</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;</span><span style="color:#8BE9FD;font-style:italic">head</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">        &#x3C;</span><span style="color:#F8F8F2">BaseHead title</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{SITE_TITLE} description</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{SITE_DESCRIPTION} </span><span style="color:#FF79C6">/></span></span>
<span class="line"><span style="color:#F8F8F2">        &#x3C;</span><span style="color:#8BE9FD;font-style:italic">style</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#6272A4">        // lines 19 to 85</span></span>
<span class="line"><span style="color:#FF79C6">        &#x3C;/</span><span style="color:#F8F8F2">style</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">    &#x3C;/</span><span style="color:#F8F8F2">head</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;</span><span style="color:#8BE9FD;font-style:italic">body</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">        &#x3C;</span><span style="color:#F8F8F2">Header </span><span style="color:#FF79C6">/></span></span>
<span class="line"><span style="color:#F8F8F2">        &#x3C;</span><span style="color:#8BE9FD;font-style:italic">main</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">            &#x3C;</span><span style="color:#8BE9FD;font-style:italic">section</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">                &#x3C;</span><span style="color:#8BE9FD;font-style:italic">ul</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">                    {</span></span>
<span class="line"><span style="color:#F8F8F2">                        posts.</span><span style="color:#50FA7B">map</span><span style="color:#F8F8F2">((</span><span style="color:#FFB86C;font-style:italic">post</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> (</span></span>
<span class="line"><span style="color:#F8F8F2">                            &#x3C;</span><span style="color:#8BE9FD;font-style:italic">li</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">                                &#x3C;</span><span style="color:#F8F8F2">a href</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{</span><span style="color:#F1FA8C">`/blog/</span><span style="color:#FF79C6">${</span><span style="color:#F8F8F2">post.slug</span><span style="color:#FF79C6">}</span><span style="color:#F1FA8C">/`</span><span style="color:#F8F8F2">}</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">                                    &#x3C;</span><span style="color:#F8F8F2">img width</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{</span><span style="color:#BD93F9">720</span><span style="color:#F8F8F2">} height</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{</span><span style="color:#BD93F9">360</span><span style="color:#F8F8F2">} src</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{post.data.heroImage} alt</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">""</span><span style="color:#FF79C6"> /></span></span>
<span class="line"><span style="color:#FF79C6">									&#x3C;</span><span style="color:#F8F8F2">h4 class</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">title</span><span style="color:#E9F284">"</span><span style="color:#FF79C6">></span><span style="color:#F8F8F2">{post.data.title}</span><span style="color:#FF79C6">&#x3C;/</span><span style="color:#F8F8F2">h4</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">									&#x3C;</span><span style="color:#F8F8F2">p class</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">date</span><span style="color:#E9F284">"</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">									    &#x3C;</span><span style="color:#F8F8F2">FormattedDate date</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{post.data.pubDate} </span><span style="color:#FF79C6">/></span></span>
<span class="line"><span style="color:#FF79C6">									&#x3C;/</span><span style="color:#F8F8F2">p</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">								&#x3C;/</span><span style="color:#F8F8F2">a</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">							&#x3C;/</span><span style="color:#F8F8F2">li</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#F8F8F2">						))</span></span>
<span class="line"><span style="color:#F8F8F2">					}</span></span>
<span class="line"><span style="color:#FF79C6">				&#x3C;/</span><span style="color:#F8F8F2">ul</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">			&#x3C;/</span><span style="color:#F8F8F2">section</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">		&#x3C;/</span><span style="color:#F8F8F2">main</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">		&#x3C;</span><span style="color:#F8F8F2">Footer </span><span style="color:#FF79C6">/></span></span>
<span class="line"><span style="color:#FF79C6">    &#x3C;/</span><span style="color:#F8F8F2">body</span><span style="color:#FF79C6">></span></span>
<span class="line"><span style="color:#FF79C6">&#x3C;/</span><span style="color:#F8F8F2">html</span><span style="color:#FF79C6">></span></span>
<span class="line"></span></code></pre>
<p>And it should no longer “complain” about any errors.</p>
<h2 id="a-little-trick">A Little Trick</h2>
<p>Thanks for making it this far. In upcoming articles, I’ll continue explaining how to create a custom template.</p>
<p>But if you don’t want to create one, you can use mine (the one you’ll have, more or less, if you follow all the steps in this series of articles) with the following command:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">yarn</span><span style="color:#F1FA8C"> create</span><span style="color:#F1FA8C"> astro</span><span style="color:#BD93F9"> --</span><span style="color:#BD93F9"> --template</span><span style="color:#F1FA8C"> borjalofe/astro-blog-template</span></span>
<span class="line"></span></code></pre> </div></article><style>
			.hero-image {
				width: 100%;
			}
			.hero-image img {
				display: block;
				margin: 0 auto;
				border-radius: 12px;
				box-shadow: var(--box-shadow);
			}
			.prose {
				width: 720px;
				max-width: calc(100% - 2em);
				margin: auto;
				padding: 1em;
				color: rgb(var(--gray-dark));
			}
			.title {
				margin-bottom: 1em;
				padding: 1em 0;
				text-align: center;
				line-height: 1;
			}
			.title h1 {
				margin: 0 0 0.5em 0;
			}
			.date {
				margin-bottom: 0.5em;
				color: rgb(var(--gray));
			}
			.last-updated-on {
				font-style: italic;
			}
		</style>  </main>  <footer data-astro-cid-sz7xmlte>   
&copy; 2024 Borja LoFe.
<div class="social-links" data-astro-cid-sz7xmlte> <a href="https://twitter.com/borjalofe" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Sígueme en Twitter</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-sz7xmlte><path fill="currentColor" d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-astro-cid-sz7xmlte></path></svg> </a> <a href="https://github.com/borjalofe" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Mi repo en GitHub</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-sz7xmlte><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path></svg> </a> </div> </footer>  </body></html>